admin"use strict";var params=null,colsEdi=null,newColHtml='<div class="btn-group pull-right"><button id="bEdit" type="button" class="btn btn-sm btn-default" onclick="rowEdit(this);"><i class="fas fa-edit"></i></button><a href="#" data-toggle="modal" data-target="#deleteAddressModal" onclick="rowElim(this)" id="bElim" type="button" class="btn btn-sm btn-default"><i class="fas fa-trash"></i></a><button id="bAcep" type="button" class="btn btn-sm btn-default" style="display:none;" onclick="rowAcep(this);"><i class="fas fa-check"></i></button><button id="bCanc" type="button" class="btn btn-sm btn-default" style="display:none;" onclick="rowCancel(this);"><i class="fas fa-times"></i></button></div>',colEdicHtml='<td name="buttons">'+newColHtml+"</td>";function IterarCamposEdit(t,n){var i=0;t.each(function(){i++,"buttons"==$(this).attr("name")||function(t){{if(null==colsEdi)return!0;for(var n=0;n<colsEdi.length;n++)if(t==colsEdi[n])return!0;return!1}}(i-1)&&n($(this))})}function FijModoNormal(t){$(t).parent().find("#bAcep").hide(),$(t).parent().find("#bCanc").hide(),$(t).parent().find("#bEdit").show(),$(t).parent().find("#bElim").show(),$(t).parents("tr").attr("id","")}function FijModoEdit(t){$(t).parent().find("#bAcep").show(),$(t).parent().find("#bCanc").show(),$(t).parent().find("#bEdit").hide(),$(t).parent().find("#bElim").hide(),$(t).parents("tr").attr("id","editing")}function ModoEdicion(t){return"editing"==t.attr("id")}function rowAcep(t){var n=$(t).parents("tr"),i=n.find("td");ModoEdicion(n)&&(IterarCamposEdit(i,function(t){var n=t.find("input").val();t.html(n)}),FijModoNormal(t),params.onEdit(n))}function rowCancel(t){var n=$(t).parents("tr"),i=n.find("td");ModoEdicion(n)&&(IterarCamposEdit(i,function(t){var n=t.find("div").html();t.html(n)}),FijModoNormal(t))}function rowEdit(t){var n=$(t).parents("tr"),i=n.find("td");ModoEdicion(n)||(IterarCamposEdit(i,function(t){var n=t.html();t.html('<div style="display: none;">'+n+"</div>"+('<input class="form-control input-sm"  value="'+n+'">'))}),FijModoEdit(t))}function rowElim(t){t=$(t).parents("tr");params.onBeforeDelete(t),t.remove(),params.onDelete()}function rowAddNew(t){var n,i,o=$("#"+t);0==o.find("tbody tr").length?(i=o.find("thead tr").find("th"),n="",i.each(function(t){console.log("object",t),"buttons"==$(this).attr("name")?n+=colEdicHtml:n+="<td></td>"}),o.find("tbody").append("<tr>"+n+"</tr>")):((t=o.find("tr:last")).clone().appendTo(t.parent()),(i=(t=o.find("tr:last")).find("td")).each(function(){"buttons"==$(this).attr("name")||$(this).html("")})),params.onAdd()}function TableToCSV(t,n){var i="",o="";return $("#"+t).find("tbody tr").each(function(){ModoEdicion($(this))&&$(this).find("#bAcep").click();var t=$(this).find("td");i="",t.each(function(){"buttons"==$(this).attr("name")||(i=i+$(this).html()+n)}),""!=i&&(i=i.substr(0,i.length-n.length)),o=o+i+"\n"}),o}$.fn.SetEditable=function(t){params=$.extend({columnsEd:null,$addButton:null,onEdit:function(){},onBeforeDelete:function(){},onDelete:function(){},onAdd:function(){}},t),this.find("thead tr").append('<td name="buttons">Thao t√°c</td>'),this.find("tbody tr").append(colEdicHtml);var n=this;null!=params.$addButton&&params.$addButton.click(function(){rowAddNew(n.attr("id"))}),null!=params.columnsEd&&(colsEdi=params.columnsEd.split(","))},$("#table-list").SetEditable({$addButton:$("#add")});